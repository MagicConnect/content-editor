
<div class="row">
  <div class="col">
    <button class="btn btn-primary" (click)="addNewWeapon(weaponEditor)">+ Add New Weapon</button>
  </div>
</div>


<ngx-datatable class="bootstrap"
               [rows]="weapons"
               columnMode="flex"
               rowHeight="auto">

  <ngx-datatable-column name="Name" [flexGrow]="2">
    <ng-template ngx-datatable-cell-template let-row="row">
      <div class="chip">
        {{ row.name }}
      </div>
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column name="Stars" [flexGrow]="1">
    <ng-template ngx-datatable-cell-template let-row="row">
      <div class="chip">
        {{ mod.stars[row.stars - 1] }}
      </div>
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column name="Primary Stat" [flexGrow]="1">
    <ng-template ngx-datatable-cell-template let-row="row">
      <div class="chip">
        {{ row.primaryStat }}
      </div>
    </ng-template>
  </ngx-datatable-column>


  <ngx-datatable-column name="Actions" [flexGrow]="1" [sortable]="false">
    <ng-template ngx-datatable-cell-template let-row="row" let-rowIndex="rowIndex">
      <div class="float-right">
        <button class="btn btn-info btn-sm" (click)="editWeapon(weaponEditor, row, rowIndex)">Edit</button>
        <button class="btn btn-danger btn-sm ml-1" (click)="deleteWeapon(row)">Delete</button>
      </div>
    </ng-template>
  </ngx-datatable-column>

</ngx-datatable>

<ng-template #weaponEditor>
  <div class="modal-header">
    <h4 class="modal-title">
      Create/Edit Weapon
    </h4>

    <div class="has-actions text-center">
      <button class="btn btn-sm btn-primary" (click)="confirmWeaponEdit()" [disabled]="!canSaveCurrentWeapon">Save</button>
    </div>

    <button class="btn-close close" (click)="cancelEdit()">
      <span>&times;</span>
    </button>
  </div>

  <div class="modal-body">
    <app-weapon [model]="currentWeapon" *ngIf="currentWeapon"></app-weapon>
  </div>
</ng-template>
